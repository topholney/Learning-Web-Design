<!doctype html>
<html lang="en-US">

<head>

	<title>jQuery</title>

	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>

	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	
	<link href="https://fonts.googleapis.com/css?family=Galada" rel="stylesheet">
	
	<style>
		html, body{
			font-family: 'Galada', cursive;
			width: 100vw;
			height: 100vh;
			margin: 0;
		}
		#top-bar{
			background-color: #EDEDED;
			height: 40px;
			width: 100%;
			position: relative;
		
		}
		#top-bar span{
			font-size: 150%;
			font-weight: bold;
			margin: 0;
			padding-left: 10px;
    		position: absolute;
    		top: 50%;
    		transform: translate(0%, -50%);
		}
		#button-container{
			margin: 0;
    		position: absolute;
    		top: 50%;
			left: 50%;
    		transform: translate(-50%, -50%);
		}
		#button-container button{
			float: left;
			background-color: #E4E4E4;
			border-width: 1px;
			font-family: inherit;
			font-size: 100%;
		}
		#button-container button:hover{
			background-color: lightslategray;
		}
		#button-html{
			border-top-left-radius: 20%;
			border-bottom-left-radius: 20%;
			border-color: red;
		}
		#button-css{
			border-color: blue;
		}
		#button-javascript{
			border-color: green;
		}
		#button-output{
			border-top-right-radius: 20%;
			border-bottom-right-radius: 20%;
			border-color: yellow;
		}
		#windows-container{
			height: calc(100% - 40px);
			width: calc(100%);
			display: flex;
			justify-content: center;
		}
		#windows-container div{
			float: left;
			height: 100%;
			width: 100%;
			flex: 1 1 0;
			border-width: 1px;
			border-style: solid;
			box-sizing: border-box;
			overflow: hidden;
		}
		#windows-container div textarea{
			height: 100%;
			width: 100%;
			box-sizing: border-box;
			overflow: hidden;
			resize: none;
		}
		#html-window{
			border-color: red;
		}
		#css-window{
			border-color: blue;
		}
		#javascript-window{
			border-color: green;
		}
		#output-window{
			border-color: yellow;
		}
		iframe{
			height: 100%;
			width: 100%;
			border: none;
		}
		
	</style>

</head>

<body>
	<div id="top-bar">
		<span>CodePlayer</span>
		<div id="button-container">
			<button id="button-html">HTML</button>
			<button id="button-css">CSS</button>
			<button id="button-javascript">JavaScript</button>
			<button id="button-output">Output</button>
		</div>
	</div>
	<div id="windows-container">
		<div id="html-window">
			<textarea id="html-textarea"><p id="paragraph">Hello World!</p></textarea>
		</div>
		<div id="css-window">
			<textarea id="css-textarea">#paragraph{
				color: blue;
				}</textarea>
		</div>
		<div id="javascript-window">
			<textarea id="javascript-textarea">document.getElementById("paragraph").innerHTML = "Hello Chris";</textarea>
		</div>
		<div id="output-window">
			<iframe id="output-iframe"></iframe>
		</div>
	</div>

<script>
	$("#button-html").click(function(){
		var id = document.getElementById("html-window");
		if (id.style.display == "none"){
			id.style.display = "block";
		} else {
			id.style.display = "none";
		}
	});
	$("#button-css").click(function(){
		var id = document.getElementById("css-window");
		if (id.style.display == "none"){
			id.style.display = "block";
		} else {
			id.style.display = "none";
		}
	});
	$("#button-javascript").click(function(){
		var id = document.getElementById("javascript-window");
		if (id.style.display == "none"){
			id.style.display = "block";
		} else {
			id.style.display = "none";
		}
	});
	$("#button-output").click(function(){
		var id = document.getElementById("output-window");
		if (id.style.display == "none"){
			id.style.display = "block";
		} else {
			id.style.display = "none";
		}
	});
	
	$("textarea").on("change keyup past", function(){
		$("iframe").contents().find("html").html("<html><head><style type='text/css'>" + $("#css-textarea").val() + "</style></head><body>" + $("#html-textarea").val() + "</body></html>");

		document.getElementById("output-iframe").contentWindow.eval($("#javascript-textarea").val());
		
	});
</script>
	
</body>

</html>